<!DOCTYPE html>
<html lang="en">

<head>
    <title>
        ToDo Planner
    </title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css"
            href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">
        <link rel="stylesheet" type="text/css" href="/stylesheets/app.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <style>
            table, th, td {
            border: 1px solid gray;
            font-size: 15px;
            padding: 5px;
            }

            #left{
                width:70%;
                float:left;
            }
            #right{
                padding: 5% 0%;
                width:30%;
                float:left;
            }
        </style>
    </head>

<body>

    <div class="ui inverted menu">
        <div class="ui container">
            <div class="header item"><i class="code icon"></i>TodoList</div>
            
            <a href="/new" class="item">New</a>
            <a href="" class="item">Dashboard</a>
            <a href="/algo/ffcs" class="item">FFCS</a>
            <a href="/algo/sjf" class="item">SJF</a>
            <a href="/algo/priority" class="item">Priority</a>
            <a href="/algo/rr" class="item">Round Robin</a>
            <a href="/settings" class="item">Settings</a>
            <div class="right menu">
                <a href="" class="item ">Welcome <%=Usrnm%></a>
                <a href="/" class="item ">Log Out </a>
            </div>
        </div>
    </div>
    <div id="left">
        <div class="ui main text container">
            <div class="ui huge header">All TODOS</div>
            <div class="ui top attached segment">
                <div class="ui divided items">
                    <% user.todo.forEach(function(todo){ %>
                        <div class="item">
                            <div class="content">
                                <div>
                                    <span>
                                        <b>Task Name:</b>
                                        <%=todo.title%>
                                    </span>
                                </div>
                                <div>
                                    <span>
                                        <b>Task Description:</b>
                                        <%=todo.body%>
                                    </span>
                                </div>
                                <div>
                                    <span>
                                        <b>Task Deadline:</b>
                                        <%=todo.deadline.toLocaleTimeString()%>
                                        <span> - </span>
                                        <%=todo.deadline.toLocaleDateString()%>
                                    </span>
                                </div>
                                <div>
                                    <b>Estimation time to complete the Task: </b>
                                    <span> <%=todo.hours%> </span>
                                    <span> hours </span>
                                    <span> <%=todo.minutes%></span>
                                    <span> minutes </span>
                                    
                                </div>
                                <div>
                                    <span>
                                        <b>Task Priority:</b>
                                        <%=todo.priority%>
                                    </span>
                                </div>
                                <div>
                                    <script>
                                        function YNconfirm() { 
                                        if (window.confirm('Are you sure want to delete the task?')){
                                        window.location.href = "/delete/<%=todo._id%>";
                                        }}
                                    </script>
                                    <a href="/delete/<%=todo._id%>" onclick="YNconfirm(); return false;"><i class="fa fa-trash fa-2x " aria-hidden="true"></i> Done</a>
                                    <span> 	&nbsp	&nbsp	&nbsp</span>
                                    <a href="/modify/<%=todo._id%>"><i class="fa fa-edit fa-2x" aria-hidden="true"></i> Modify Task</a>
                                </div>
                            </div>
                        </div>
    
                        <% }); %>
                </div>
            </div>
        </div>
    </div>

    <div id="right">
        <div>
            <div class="ui huge header"> Efficiency </div>
            <table>
                <tr>
                  <th>Algorithm</th>
                  <th>Turnaround Time</th>
                  <th>Waiting Time</th>
                </tr>
                <tr>
                  <td> <b>FCFS</b> </td>
                  <td><%=wt_tat[0]%></td>
                  <td><%=wt_tat[1]%></td>
                </tr>
                <tr>
                  <td> <b>SJF</b> </td>
                  <td><%=wt_tat[2]%></td>
                  <td><%=wt_tat[3]%></td>
                </tr>
                <tr>
                  <td> <b>Priority</b> </td>
                  <td><%=wt_tat[4]%></td>
                  <td><%=wt_tat[5]%></td>
                </tr>
                <tr>
                  <td> <b>Round Robin</b> </td>
                  <td><%=wt_tat[6]%></td>
                  <td><%=wt_tat[7]%></td>
                </tr>
              </table>
              
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
        crossorigin="anonymous"></script>
</body>

</html>